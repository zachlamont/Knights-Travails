(()=>{const t=document.getElementById("chessboard"),e=document.createElement("div");e.classList.add("knightIcon"),t.appendChild(e);for(let i=0;i<64;i++){const d=document.createElement("div");d.classList.add((Math.floor(i/8)+i)%2==0?"white":"black"),d.addEventListener("click",(()=>{const g=i%8,h=Math.floor(i/8);if(console.log("you clicked on square"+g+"and"+h),o){n=[g,h];const e=l(o,n);for(const t of document.querySelectorAll(".highlight"))t.classList.remove("highlight");if(e&&e.length>0){for(const[o,n]of e){const e=8*n+o+1;t.children[e].classList.add("highlight")}c(e)}o=null,n=null}else o=[g,h],d.textContent="",e.style.display="block",s(d)})),t.appendChild(d)}let o=null,n=null;const l=(t,e)=>{const o=[[-2,-1],[-2,1],[2,-1],[2,1],[-1,-2],[-1,2],[1,-2],[1,2]],n=[],l=([t,e])=>t>=0&&t<8&&e>=0&&e<8,s=[[t]],c=new Set([t.toString()]);for(;s.length>0;){const t=s.shift(),i=t[t.length-1];if(i.toString()===e.toString()){for(const e of t)n.push(e);break}for(const e of o){const o=[i[0]+e[0],i[1]+e[1]];l(o)&&!c.has(o.toString())&&(s.push([...t,o]),c.add(o.toString()))}}return n},s=o=>{const n=o.getBoundingClientRect(),l=n.left-t.getBoundingClientRect().left,s=n.top-t.getBoundingClientRect().top;e.style.left=l+"px",e.style.top=s+"px"},c=e=>{let o=0;const n=()=>{const l=e[o];s(t.children[8*l[1]+l[0]+1]),o++,o<e.length&&setTimeout(n,500)};n()};console.log(l([0,0],[3,3])),console.log(l([0,0],[7,7])),console.log(l([0,0],[8,8]))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUIsS0FFN0IsTUFBTVAsRUFBYXpCLEVBQUsrQixHQUd4QnBCLEVBQ0U5QixFQUFXeUIsU0FBeUIsRUFBaEJtQixFQUFXLEdBQVNBLEVBQVcsR0FBSyxJQUkxRE0sSUFHSUEsRUFBcUIvQixFQUFLSSxRQUM1QjZCLFdBQVdELEVBQXdCLElBQ3JDLEVBSUZBLEdBQXdCLEVBbUIxQnBDLFFBQVFDLElBQUlJLEVBQVksQ0FBQyxFQUFHLEdBQUksQ0FBQyxFQUFHLEtBQ3BDTCxRQUFRQyxJQUFJSSxFQUFZLENBQUMsRUFBRyxHQUFJLENBQUMsRUFBRyxLQUNwQ0wsUUFBUUMsSUFBSUksRUFBWSxDQUFDLEVBQUcsR0FBSSxDQUFDLEVBQUcsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2tuaWdodHMtdHJhdmFpbHMvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBjaGVzc2JvYXJkIGVsZW1lbnRcbmNvbnN0IGNoZXNzYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZXNzYm9hcmRcIik7XG5cbi8vIENyZWF0ZSBhIGRpdiBlbGVtZW50IGZvciB0aGUga25pZ2h0IGljb25cbmNvbnN0IGtuaWdodEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xua25pZ2h0SWNvbi5jbGFzc0xpc3QuYWRkKFwia25pZ2h0SWNvblwiKTtcbmNoZXNzYm9hcmQuYXBwZW5kQ2hpbGQoa25pZ2h0SWNvbik7XG5cbi8vIExvb3AgdGhyb3VnaCBlYWNoIHNxdWFyZSBvbiB0aGUgY2hlc3Nib2FyZCBhbmQgY3JlYXRlIGEgZGl2IGVsZW1lbnQgZm9yIGl0XG5mb3IgKGxldCBpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgY29uc3Qgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAvLyBTZXQgdGhlIGNsYXNzIG9mIHRoZSBzcXVhcmUgdG8gZWl0aGVyICd3aGl0ZScgb3IgJ2JsYWNrJyBiYXNlZCBvbiBpdHMgcG9zaXRpb24gb24gdGhlIGNoZXNzYm9hcmRcbiAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoKE1hdGguZmxvb3IoaSAvIDgpICsgaSkgJSAyID09PSAwID8gXCJ3aGl0ZVwiIDogXCJibGFja1wiKTtcblxuICAvLyBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBzcXVhcmVcbiAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy8gR2V0IHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIG9mIHRoZSBjbGlja2VkIHNxdWFyZVxuICAgIGNvbnN0IHggPSBpICUgODtcbiAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihpIC8gOCk7XG5cbiAgICBjb25zb2xlLmxvZyhcInlvdSBjbGlja2VkIG9uIHNxdWFyZVwiICsgeCArIFwiYW5kXCIgKyB5KTtcblxuICAgIC8vIElmIHRoZSBzdGFydCBzcXVhcmUgaXMgbm90IHlldCBzZXQsIHNldCBpdCBhbmQgcG9wdWxhdGUgdGhlIHNxdWFyZSB3aXRoIGEga25pZ2h0IHN5bWJvbFxuICAgIGlmICghc3RhcnRTcXVhcmUpIHtcbiAgICAgIHN0YXJ0U3F1YXJlID0gW3gsIHldO1xuICAgICAgc3F1YXJlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIGtuaWdodEljb24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIG1vdmVLbmlnaHRUb1NxdWFyZShzcXVhcmUpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgc3RhcnQgc3F1YXJlIGlzIGFscmVhZHkgc2V0LCBzZXQgdGhlIHRhcmdldCBzcXVhcmUgYW5kIGNhbGwgdGhlIGtuaWdodE1vdmVzIGZ1bmN0aW9uXG4gICAgZWxzZSB7XG4gICAgICB0YXJnZXRTcXVhcmUgPSBbeCwgeV07XG5cbiAgICAgIGNvbnN0IHBhdGggPSBrbmlnaHRNb3ZlcyhzdGFydFNxdWFyZSwgdGFyZ2V0U3F1YXJlKTtcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIHNxdWFyZSBvbiB0aGUgY2hlc3Nib2FyZCBhbmQgcmVtb3ZlIGFueSBleGlzdGluZyBoaWdobGlnaHRcbiAgICAgIGZvciAoY29uc3Qgc3F1YXJlIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlnaGxpZ2h0XCIpKSB7XG4gICAgICAgIHNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0XCIpO1xuICAgICAgfVxuICAgICAgLy8gSWYgYSBwYXRoIGlzIGZvdW5kLCBoaWdobGlnaHQgZWFjaCBzcXVhcmUgaW4gdGhlIHBhdGhcbiAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IFt4LCB5XSBvZiBwYXRoKSB7XG4gICAgICAgICAgY29uc3Qgc3F1YXJlSW5kZXggPSB5ICogOCArIHggKyAxO1xuICAgICAgICAgIGNoZXNzYm9hcmQuY2hpbGRyZW5bc3F1YXJlSW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHRcIik7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0ZUtuaWdodE1vdmVzKHBhdGgpO1xuICAgICAgfVxuICAgICAgLy8gUmVzZXQgdGhlIHN0YXJ0IHNxdWFyZSBhbmQgdGFyZ2V0IHNxdWFyZSB2YXJpYWJsZXNcbiAgICAgIHN0YXJ0U3F1YXJlID0gbnVsbDtcbiAgICAgIHRhcmdldFNxdWFyZSA9IG51bGw7XG4gICAgfVxuICB9KTtcblxuICAvLyBBZGQgdGhlIHNxdWFyZSB0byB0aGUgY2hlc3Nib2FyZFxuICBjaGVzc2JvYXJkLmFwcGVuZENoaWxkKHNxdWFyZSk7XG59XG5cbi8vIERlZmluZSB2YXJpYWJsZXMgdG8ga2VlcCB0cmFjayBvZiB0aGUgc3RhcnQgYW5kIHRhcmdldCBzcXVhcmVzXG5sZXQgc3RhcnRTcXVhcmUgPSBudWxsO1xubGV0IHRhcmdldFNxdWFyZSA9IG51bGw7XG5cbmNvbnN0IGtuaWdodE1vdmVzID0gKHN0YXJ0LCB0YXJnZXQpID0+IHtcbiAgLy8gRGVmaW5lIHRoZSBwb3NzaWJsZSBtb3ZlcyBmb3IgYSBrbmlnaHRcbiAgY29uc3QgbW92ZXMgPSBbXG4gICAgWy0yLCAtMV0sXG4gICAgWy0yLCAxXSxcbiAgICBbMiwgLTFdLFxuICAgIFsyLCAxXSxcbiAgICBbLTEsIC0yXSxcbiAgICBbLTEsIDJdLFxuICAgIFsxLCAtMl0sXG4gICAgWzEsIDJdLFxuICBdO1xuXG4gIC8vIERlZmluZSBhbiBhcnJheSB0byBzdG9yZSB0aGUgc3F1YXJlcyBpbiB0aGUgcGF0aFxuICBjb25zdCBwYXRoID0gW107XG5cbiAgLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYSBzcXVhcmUgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGNoZXNzYm9hcmRcbiAgY29uc3QgaXNXaXRoaW5Cb3VuZHMgPSAoW3gsIHldKSA9PiB4ID49IDAgJiYgeCA8IDggJiYgeSA+PSAwICYmIHkgPCA4O1xuXG4gIC8vIERlZmluZSBhIHF1ZXVlIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHNxdWFyZXMgdG8gdmlzaXRcbiAgY29uc3QgcXVldWUgPSBbW3N0YXJ0XV07XG5cbiAgLy8gRGVmaW5lIGEgc2V0IHRvIGtlZXAgdHJhY2sgb2YgdGhlIHNxdWFyZXMgd2UgaGF2ZSBhbHJlYWR5IHZpc2l0ZWRcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoW3N0YXJ0LnRvU3RyaW5nKCldKTtcblxuICAvLyBMb29wIHRocm91Z2ggdGhlIHF1ZXVlIHVudGlsIHdlIGZpbmQgdGhlIHRhcmdldCBzcXVhcmVcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgc3F1YXJlIHRvIHZpc2l0IGZyb20gdGhlIHF1ZXVlXG4gICAgY29uc3QgY3VycmVudFBhdGggPSBxdWV1ZS5zaGlmdCgpO1xuICAgIGNvbnN0IGN1cnJlbnRTcXVhcmUgPSBjdXJyZW50UGF0aFtjdXJyZW50UGF0aC5sZW5ndGggLSAxXTtcblxuICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgdGFyZ2V0IHNxdWFyZVxuICAgIGlmIChjdXJyZW50U3F1YXJlLnRvU3RyaW5nKCkgPT09IHRhcmdldC50b1N0cmluZygpKSB7XG4gICAgICBmb3IgKGNvbnN0IHNxdWFyZSBvZiBjdXJyZW50UGF0aCkge1xuICAgICAgICBwYXRoLnB1c2goc3F1YXJlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHRoZSBuZXh0IHBvc3NpYmxlIG1vdmVzIGZyb20gdGhlIGN1cnJlbnQgc3F1YXJlXG4gICAgZm9yIChjb25zdCBtb3ZlIG9mIG1vdmVzKSB7XG4gICAgICBjb25zdCBuZXh0U3F1YXJlID0gW1xuICAgICAgICBjdXJyZW50U3F1YXJlWzBdICsgbW92ZVswXSxcbiAgICAgICAgY3VycmVudFNxdWFyZVsxXSArIG1vdmVbMV0sXG4gICAgICBdO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgbmV4dCBzcXVhcmUgaXMgd2l0aGluIGJvdW5kcyBhbmQgaGFzbid0IGFscmVhZHkgYmVlbiB2aXNpdGVkXG4gICAgICBpZiAoaXNXaXRoaW5Cb3VuZHMobmV4dFNxdWFyZSkgJiYgIXZpc2l0ZWQuaGFzKG5leHRTcXVhcmUudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXh0IHNxdWFyZSB0byB0aGUgcXVldWUgYW5kIG1hcmsgaXQgYXMgdmlzaXRlZFxuICAgICAgICBxdWV1ZS5wdXNoKFsuLi5jdXJyZW50UGF0aCwgbmV4dFNxdWFyZV0pO1xuICAgICAgICB2aXNpdGVkLmFkZChuZXh0U3F1YXJlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIHdlIGRpZG4ndCBmaW5kIHRoZSB0YXJnZXQgc3F1YXJlLCByZXR1cm4gbnVsbFxuICAvL3JldHVybiBudWxsO1xuXG4gIHJldHVybiBwYXRoO1xufTtcblxuLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gbW92ZSB0aGUga25pZ2h0IGljb24gdG8gYSBzcXVhcmUgb24gdGhlIGNoZXNzYm9hcmRcbmNvbnN0IG1vdmVLbmlnaHRUb1NxdWFyZSA9IChzcXVhcmUpID0+IHtcbiAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgc3F1YXJlIHdpdGggcmVzcGVjdCB0byB0aGUgY2hlc3Nib2FyZFxuICBjb25zdCByZWN0ID0gc3F1YXJlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBsZWZ0ID0gcmVjdC5sZWZ0IC0gY2hlc3Nib2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICBjb25zdCB0b3AgPSByZWN0LnRvcCAtIGNoZXNzYm9hcmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAvLyBVcGRhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBrbmlnaHQgaWNvbiB0byB0aGUgc3F1YXJlXG4gIGtuaWdodEljb24uc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XG4gIGtuaWdodEljb24uc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xufTtcblxuLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gYW5pbWF0ZSB0aGUga25pZ2h0IG1vdmluZyB0byBlYWNoIHNxdWFyZSBpbiB0aGUgcGF0aFxuY29uc3QgYW5pbWF0ZUtuaWdodE1vdmVzID0gKHBhdGgpID0+IHtcbiAgLy8gRGVmaW5lIGEgdmFyaWFibGUgdG8ga2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBzcXVhcmUgaW4gdGhlIHBhdGhcbiAgbGV0IGN1cnJlbnRTcXVhcmVJbmRleCA9IDA7XG5cbiAgLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gbW92ZSB0aGUga25pZ2h0IHRvIHRoZSBuZXh0IHNxdWFyZSBpbiB0aGUgcGF0aFxuICBjb25zdCBtb3ZlS25pZ2h0VG9OZXh0U3F1YXJlID0gKCkgPT4ge1xuICAgIC8vIEdldCB0aGUgbmV4dCBzcXVhcmUgaW4gdGhlIHBhdGhcbiAgICBjb25zdCBuZXh0U3F1YXJlID0gcGF0aFtjdXJyZW50U3F1YXJlSW5kZXhdO1xuXG4gICAgLy8gTW92ZSB0aGUga25pZ2h0IHRvIHRoZSBuZXh0IHNxdWFyZVxuICAgIG1vdmVLbmlnaHRUb1NxdWFyZShcbiAgICAgIGNoZXNzYm9hcmQuY2hpbGRyZW5bbmV4dFNxdWFyZVsxXSAqIDggKyBuZXh0U3F1YXJlWzBdICsgMV1cbiAgICApO1xuXG4gICAgLy8gSW5jcmVtZW50IHRoZSBjdXJyZW50IHNxdWFyZSBpbmRleFxuICAgIGN1cnJlbnRTcXVhcmVJbmRleCsrO1xuXG4gICAgLy8gSWYgdGhlcmUgYXJlIG1vcmUgc3F1YXJlcyBpbiB0aGUgcGF0aCwgc2NoZWR1bGUgdGhlIG5leHQgbW92ZVxuICAgIGlmIChjdXJyZW50U3F1YXJlSW5kZXggPCBwYXRoLmxlbmd0aCkge1xuICAgICAgc2V0VGltZW91dChtb3ZlS25pZ2h0VG9OZXh0U3F1YXJlLCA1MDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBTY2hlZHVsZSB0aGUgZmlyc3QgbW92ZVxuICBtb3ZlS25pZ2h0VG9OZXh0U3F1YXJlKCk7XG59O1xuXG4vLyBBbmltYXRlIHRoZSBrbmlnaHQgbW92aW5nIHRvIGVhY2ggc3F1YXJlIGluIHRoZSBwYXRoXG5jb25zdCBhbmltYXRlID0gKGN1cnJlbnRTcXVhcmVJbmRleCkgPT4ge1xuICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHBhdGgsIHN0b3AgdGhlIGFuaW1hdGlvblxuICBpZiAoY3VycmVudFNxdWFyZUluZGV4ID49IHBhdGgubGVuZ3RoKSB7XG4gICAgY2xlYXJJbnRlcnZhbChhbmltYXRpb25JZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE1vdmUgdGhlIGtuaWdodCB0byB0aGUgY3VycmVudCBzcXVhcmUgaW4gdGhlIHBhdGhcbiAgY29uc3QgW3gsIHldID0gcGF0aFtjdXJyZW50U3F1YXJlSW5kZXhdO1xuICBtb3ZlS25pZ2h0VG9TcXVhcmUoY2hlc3Nib2FyZC5jaGlsZHJlblt5ICogOCArIHhdKTtcblxuICAvLyBJbmNyZW1lbnQgdGhlIGN1cnJlbnQgc3F1YXJlIGluZGV4XG4gIGN1cnJlbnRTcXVhcmVJbmRleCsrO1xufTtcblxuLy8gVGVzdCB0aGUgZnVuY3Rpb24gd2l0aCBzb21lIGV4YW1wbGUgaW5wdXRzXG5jb25zb2xlLmxvZyhrbmlnaHRNb3ZlcyhbMCwgMF0sIFszLCAzXSkpOyAvLyBFeHBlY3RlZCBvdXRwdXQ6IFtbMCwgMF0sIFsxLCAyXSwgWzMsIDNdXVxuY29uc29sZS5sb2coa25pZ2h0TW92ZXMoWzAsIDBdLCBbNywgN10pKTsgLy8gRXhwZWN0ZWQgb3V0cHV0OiBbWzAsIDBdLCBbMSwgMl0sIFswLCA0XSwgWzEsIDZdLCBbMiwgNF0sIFs0LCA1XSwgWzYsIDZdLCBbNywgN11dXG5jb25zb2xlLmxvZyhrbmlnaHRNb3ZlcyhbMCwgMF0sIFs4LCA4XSkpOyAvLyBFeHBlY3RlZCBvdXRwdXQ6IG51bGxcbiJdLCJuYW1lcyI6WyJjaGVzc2JvYXJkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImtuaWdodEljb24iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJpIiwic3F1YXJlIiwiTWF0aCIsImZsb29yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIngiLCJ5IiwiY29uc29sZSIsImxvZyIsInN0YXJ0U3F1YXJlIiwidGFyZ2V0U3F1YXJlIiwicGF0aCIsImtuaWdodE1vdmVzIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZSIsImxlbmd0aCIsInNxdWFyZUluZGV4IiwiY2hpbGRyZW4iLCJhbmltYXRlS25pZ2h0TW92ZXMiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGlzcGxheSIsIm1vdmVLbmlnaHRUb1NxdWFyZSIsInN0YXJ0IiwidGFyZ2V0IiwibW92ZXMiLCJpc1dpdGhpbkJvdW5kcyIsInF1ZXVlIiwidmlzaXRlZCIsIlNldCIsInRvU3RyaW5nIiwiY3VycmVudFBhdGgiLCJzaGlmdCIsImN1cnJlbnRTcXVhcmUiLCJwdXNoIiwibW92ZSIsIm5leHRTcXVhcmUiLCJoYXMiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsInRvcCIsImN1cnJlbnRTcXVhcmVJbmRleCIsIm1vdmVLbmlnaHRUb05leHRTcXVhcmUiLCJzZXRUaW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==